int v = 0;
prev_state = LOW;
int time_period = 0;
int count = 0;
int freq = 0;

void Loop()
{
  curr_state = digitalRead(A1);
  if (v>500)
  {
    digitalWrite(7,HIGH);
  }
  else
  {
    digitalWrite(7,LOW);
  }
  if (curr_state != prev_state)
  {
    count++;
  }
  time_period++;
  if (time_period > 1000)
  {
    time_period = 0;
    freq = count / time_period;
    Serial.print(freq);
    Serial.print('counts/clock period');
    count = 0;
  }
  prev_state = curr_state;
}
